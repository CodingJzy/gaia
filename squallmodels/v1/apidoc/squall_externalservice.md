---
title: ExternalService
keywords: api, Squall,
last_updated: June 9, 2017
tags: [Api,Squall]
summary: "An External Service represents a random network or ip that is not managed by the system. They can be used in Network Access Policies in order to allow traffic from or to the declared network or IP, using the provided protocol and port or ports range. If you want to describe the Internet (ie. anywhere), use 0.0.0.0/0 as address, and 1-65000 for the ports. You will need to use the External Services tags to set some policies. A good example would benet=any or net=intranet."
sidebar: squall_sidebar
permalink: squall_externalservice.html
folder: apidoc
---


## Attributes

{% include attribute.html
  name="annotations"
  description="Annotation stores additional information about an entity"
  type="annotations"
  choices=""
  required="False"
  read_only="False"
  deprecated="False"
  creation_only="False"
  autogenerated="False"
  filterable="False"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="associatedTags"
  description="AssociatedTags are the list of tags attached to an entity"
  type="tags_list"
  choices=""
  required="False"
  read_only="False"
  deprecated="False"
  creation_only="False"
  autogenerated="False"
  filterable="False"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="createTime"
  description="CreatedTime is the time at which the object was created"
  type="time"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="False"
  autogenerated="True"
  filterable="False"
  orderable="True"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="description"
  description="Description is the description of the object."
  type="string"
  choices=""
  required="None"
  read_only="False"
  deprecated="None"
  creation_only="None"
  autogenerated="None"
  filterable="True"
  orderable="True"
  unique="None"
  unique_scope="None"
%}


{% include attribute.html
  name="ID"
  description="ID is the identifier of the object."
  type="string"
  choices=""
  required="False"
  read_only="True"
  deprecated="None"
  creation_only="False"
  autogenerated="True"
  filterable="True"
  orderable="True"
  unique="True"
  unique_scope="None"
%}


{% include attribute.html
  name="metadata"
  description="Metadata contains tags that can only be set during creation. They must all start with the '@' prefix, and should only be used by external systems."
  type="metadata_list"
  choices=""
  required="None"
  read_only="None"
  deprecated="None"
  creation_only="True"
  autogenerated="None"
  filterable="True"
  orderable="False"
  unique="None"
  unique_scope="None"
%}


{% include attribute.html
  name="name"
  description="Name is the name of the entity"
  type="string"
  choices=""
  required="True"
  read_only="False"
  deprecated="None"
  creation_only="None"
  autogenerated="None"
  filterable="True"
  orderable="True"
  unique="True"
  unique_scope="None"
%}


{% include attribute.html
  name="namespace"
  description="Namespace tag attached to an entity"
  type="string"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="True"
  autogenerated="True"
  filterable="True"
  orderable="True"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="network"
  description="Network refers to either CIDR or domain name"
  type="string"
  choices=""
  required="True"
  read_only="False"
  deprecated="False"
  creation_only="False"
  autogenerated="False"
  filterable="True"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="normalizedTags"
  description="NormalizedTags contains the list of normalized tags of the entities"
  type="tags_list"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="False"
  autogenerated="True"
  filterable="False"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="port"
  description="Port refers to network port which could be a single number or 100:2000 to represent a range of ports"
  type="string"
  choices=""
  required="False"
  read_only="False"
  deprecated="False"
  creation_only="False"
  autogenerated="False"
  filterable="True"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="protected"
  description="Protected defines if the object is protected."
  type="boolean"
  choices=""
  required="None"
  read_only="None"
  deprecated="None"
  creation_only="None"
  autogenerated="False"
  filterable="True"
  orderable="True"
  unique="None"
  unique_scope="None"
%}


{% include attribute.html
  name="protocol"
  description="Protocol refers to network protocol like TCP/UDP or the number of the protocol."
  type="string"
  choices=""
  required="True"
  read_only="False"
  deprecated="False"
  creation_only="False"
  autogenerated="False"
  filterable="True"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="updateTime"
  description="UpdateTime is the time at which an entity was updated."
  type="time"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="False"
  autogenerated="True"
  filterable="False"
  orderable="True"
  unique="False"
  unique_scope="None"
%}




## Code example

#### Retrieve all ExternalServices 
<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api list externalservices -n /namespace
```

```go
package main

import (
  "github.com/aporeto-inc/manipulate/manipwebsocket"

  squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

  m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

  if err != nil {
      panic(err)
  }

  var objects squallmodels.ExternalServicesList

  if err = m.RetrieveMany(nil, &amp;objects); err != nil {
    panic(err)
  }

  disconnect()
}
```

```python
import os

from squallmodels import ExternalService
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = ExternalService()
    objects = []

    try:
        manipulator.retrieve_children(None, obj.identity(), objects)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    for obj in objects:
        print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X GET \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  http://&lt;host&gt;:&lt;port&gt;/externalservices
```

#### Create a new ExternalService 
<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api create externalservices -n /namespace \
  -k name "name" \
  -k network "network" \
  -k protocol "protocol"
```

```go
package main

import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main () {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewExternalService()
    obj.SetName("name")
    obj.Network = "network"
    obj.Protocol = "protocol"

    if err = m.Create(nil, obj); err != nil {
        panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import ExternalService
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = ExternalService()
    obj.name = "name"
    obj.network = "network"
    obj.protocol = "protocol"

    try:
        manipulator.create(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X POST \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  -d name="name" \
  -d network="network" \
  -d protocol="protocol" \
  http://&lt;host&gt;:&lt;port&gt;/externalservices
```


#### Delete a given ExternalService

<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api delete externalservice identitifier -n /namespace
```

```go
import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewExternalService()
    obj.SetIdentifier("identifier")

    if err = m.Delete(nil, obj); err != nil {
        panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import ExternalService
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = ExternalService()
    obj.ID = "identifier"

    try:
        manipulator.delete(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X DELETE \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  http://&lt;host&gt;:&lt;port&gt;/externalservices/identitifier
```

#### Retrieve a given ExternalService

<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api get externalservice identitifier -n /namespace
```

```go
package main

import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewExternalService()
    obj.SetIdentifier("identifier")

    if err = m.Retrieve(nil, obj); err != nil {
        panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import ExternalService
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = ExternalService()
    obj.ID = "identifier"

    try:
        manipulator.retrieve(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X GET \
-H "X-Namespace: namespace" \
-H "Authorization: token" \
http://&lt;host&gt;:&lt;port&gt;/externalservices/identifier
```

#### Update a given ExternalService

<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api update externalservice identitifier -n /namespace \
  -k name "name" \
  -k network "network" \
  -k protocol "protocol"```

```go
import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewExternalService()
    obj.SetIdentifier("identifier")

    if err = m.Retrieve(nil, obj); err != nil {
      panic(err)
    }

    obj.SetName("name")
    obj.Network = "network"
    obj.Protocol = "protocol"

    if err = m.Update(nil, obj); err != nil {
      panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import ExternalService
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = ExternalService()
    obj.ID = "identifier"

    try:
        manipulator.retrieve(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    obj.name = "name"
    obj.network = "network"
    obj.protocol = "protocol"

    try:
        manipulator.update(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X PUT \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  -d name="name" \
  -d network="network" \
  -d protocol="protocol" \
  http://&lt;host&gt;:&lt;port&gt;/externalservices/identitifier
```


