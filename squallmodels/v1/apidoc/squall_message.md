---
title: Message
keywords: api, Squall,
last_updated: June 9, 2017
tags: [Api,Squall]
summary: "The Message API allows to post public messages that will be visible through all children namespaces"
sidebar: squall_sidebar
permalink: squall_message.html
folder: apidoc
---


## Attributes

{% include attribute.html
  name="annotations"
  description="Annotation stores additional information about an entity"
  type="annotations"
  choices=""
  required="False"
  read_only="False"
  deprecated="False"
  creation_only="False"
  autogenerated="False"
  filterable="False"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="associatedTags"
  description="AssociatedTags are the list of tags attached to an entity"
  type="tags_list"
  choices=""
  required="False"
  read_only="False"
  deprecated="False"
  creation_only="False"
  autogenerated="False"
  filterable="False"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="createTime"
  description="CreatedTime is the time at which the object was created"
  type="time"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="False"
  autogenerated="True"
  filterable="False"
  orderable="True"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="description"
  description="Description is the description of the object."
  type="string"
  choices=""
  required="None"
  read_only="False"
  deprecated="None"
  creation_only="None"
  autogenerated="None"
  filterable="True"
  orderable="True"
  unique="None"
  unique_scope="None"
%}


{% include attribute.html
  name="expirationTime"
  description="expirationTime is the time after which the message will be deleted."
  type="time"
  choices=""
  required="None"
  read_only="None"
  deprecated="None"
  creation_only="None"
  autogenerated="None"
  filterable="True"
  orderable="True"
  unique="None"
  unique_scope="None"
%}


{% include attribute.html
  name="ID"
  description="ID is the identifier of the object."
  type="string"
  choices=""
  required="False"
  read_only="True"
  deprecated="None"
  creation_only="False"
  autogenerated="True"
  filterable="True"
  orderable="True"
  unique="True"
  unique_scope="None"
%}


{% include attribute.html
  name="level"
  description="Level defines how the message is important."
  type="enum"
  choices=" (Danger | Info | Warning)"
  required="None"
  read_only="None"
  deprecated="None"
  creation_only="None"
  autogenerated="None"
  filterable="True"
  orderable="True"
  unique="None"
  unique_scope="None"
%}


{% include attribute.html
  name="name"
  description="Name is the name of the entity"
  type="string"
  choices=""
  required="True"
  read_only="False"
  deprecated="None"
  creation_only="None"
  autogenerated="None"
  filterable="True"
  orderable="True"
  unique="True"
  unique_scope="None"
%}


{% include attribute.html
  name="namespace"
  description="Namespace tag attached to an entity"
  type="string"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="True"
  autogenerated="True"
  filterable="True"
  orderable="True"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="normalizedTags"
  description="NormalizedTags contains the list of normalized tags of the entities"
  type="tags_list"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="False"
  autogenerated="True"
  filterable="False"
  orderable="False"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="protected"
  description="Protected defines if the object is protected."
  type="boolean"
  choices=""
  required="None"
  read_only="None"
  deprecated="None"
  creation_only="None"
  autogenerated="False"
  filterable="True"
  orderable="True"
  unique="None"
  unique_scope="None"
%}


{% include attribute.html
  name="updateTime"
  description="UpdateTime is the time at which an entity was updated."
  type="time"
  choices=""
  required="False"
  read_only="True"
  deprecated="False"
  creation_only="False"
  autogenerated="True"
  filterable="False"
  orderable="True"
  unique="False"
  unique_scope="None"
%}


{% include attribute.html
  name="validity"
  description="Validity set using golang time duration, when the message will be automatically deleted."
  type="string"
  choices=""
  required="None"
  read_only="None"
  deprecated="None"
  creation_only="None"
  autogenerated="None"
  filterable="False"
  orderable="False"
  unique="None"
  unique_scope="None"
%}




## Code example

#### Retrieve all Messages 
<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api list messages -n /namespace
```

```go
package main

import (
  "github.com/aporeto-inc/manipulate/manipwebsocket"

  squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

  m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

  if err != nil {
      panic(err)
  }

  var objects squallmodels.MessagesList

  if err = m.RetrieveMany(nil, &amp;objects); err != nil {
    panic(err)
  }

  disconnect()
}
```

```python
import os

from squallmodels import Message
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = Message()
    objects = []

    try:
        manipulator.retrieve_children(None, obj.identity(), objects)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    for obj in objects:
        print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X GET \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  http://&lt;host&gt;:&lt;port&gt;/messages
```

#### Create a new Message 
<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api create messages -n /namespace \
  -k name "name"
```

```go
package main

import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main () {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewMessage()
    obj.SetName("name")

    if err = m.Create(nil, obj); err != nil {
        panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import Message
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = Message()
    obj.name = "name"

    try:
        manipulator.create(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X POST \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  -d name="name" \
  http://&lt;host&gt;:&lt;port&gt;/messages
```


#### Delete a given Message

<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api delete message identitifier -n /namespace
```

```go
import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewMessage()
    obj.SetIdentifier("identifier")

    if err = m.Delete(nil, obj); err != nil {
        panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import Message
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = Message()
    obj.ID = "identifier"

    try:
        manipulator.delete(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X DELETE \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  http://&lt;host&gt;:&lt;port&gt;/messages/identitifier
```

#### Retrieve a given Message

<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api get message identitifier -n /namespace
```

```go
package main

import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewMessage()
    obj.SetIdentifier("identifier")

    if err = m.Retrieve(nil, obj); err != nil {
        panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import Message
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = Message()
    obj.ID = "identifier"

    try:
        manipulator.retrieve(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X GET \
-H "X-Namespace: namespace" \
-H "Authorization: token" \
http://&lt;host&gt;:&lt;port&gt;/messages/identifier
```

#### Update a given Message

<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="curl">curl</a>
</div>

```apoctl
apoctl api update message identitifier -n /namespace \
  -k name "name"```

```go
import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    squallmodels "github.com/aporeto-inc/gaia/squallmodels/current/golang"
)

func main() {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := squallmodels.NewMessage()
    obj.SetIdentifier("identifier")

    if err = m.Retrieve(nil, obj); err != nil {
      panic(err)
    }

    obj.SetName("name")

    if err = m.Update(nil, obj); err != nil {
      panic(err)
    }

    disconnect()
}
```

```python
import os

from squallmodels import Message
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = Message()
    obj.ID = "identifier"

    try:
        manipulator.retrieve(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    obj.name = "name"

    try:
        manipulator.update(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
```

```shell
curl -X PUT \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  -d name="name" \
  http://&lt;host&gt;:&lt;port&gt;/messages/identitifier
```


