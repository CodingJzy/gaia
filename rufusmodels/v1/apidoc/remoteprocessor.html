<!DOCTYPE html>
<html lang="en">
<head>
    <title>RemoteProcessor API Reference 1.0</title>
    <link rel="shortcut icon" href="https://avatars1.githubusercontent.com/u/15617796?v=3&s=200" />

    <link rel="stylesheet" href="css/semantic.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/codestyles/tomorrow.css">

    <script src="js/highlight.pack.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/semantic.min.js"></script>

    <script src="js/d3.v4.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/relations.js"></script>
</head>

<body>
  <div class="ui menu fixed navbar">
    <div class="item header">
      <i id="aporeto-icon"></i> Rufus API Documentation 1.0
    </div>
    <a class="item" href="#attributes" onclick="goToHash('#attributes')">Attributes</a>
    <a class="item" href="#relations" onclick="goToHash('#relations')">Relations</a>
    <a class="item" href="#codingexamples" onclick="goToHash('#codingexamples')">Coding Examples</a>
  </div>


  <div id="main_container">
    <div class="ui grid stackable padded">
      <div class="row">

        <div id="main_menu" class="sixteen wide tablet three wide computer column">
          
<div class="ui vertical menu fluid">
  <div class="item">
    <a href="index.html">
      Index
    </a>
  </div>
</div>
        </div>

        <div id="main_content" class="sixteen wide tablet thirteen wide computer column">
          <section id="intro">
              <h2>RemoteProcessor</h2>
              <p>Hook to integrate in an Aporeto service</p>
          </section>

          <section id="attributes">
              <h3>Attributes</h3>
              <div class="ui card">
                <div class="content">
                  <div class="pull-right">
                    <span class="ui label mini red">required</span>

                  </div>
                  <strong>claims</strong>  <span class="ui blue">list</span>
                </div>
                <div class="content">
                  <div class="meta">
                    Represents the claims of the currently managed object

                  </div>
                </div>
              </div>
              <div class="ui card">
                <div class="content">
                  <div class="pull-right">
                    <span class="ui label mini red">required</span>

                  </div>
                  <strong>inputData</strong>  <span class="ui blue">raw_data</span>
                </div>
                <div class="content">
                  <div class="meta">
                    Represents data received from the service

                  </div>
                </div>
              </div>
              <div class="ui card">
                <div class="content">
                  <div class="pull-right">
                    <span class="ui label mini red">required</span>

                  </div>
                  <strong>mode</strong>  <span class="ui blue">enum (Post | Pre)</span>
                </div>
                <div class="content">
                  <div class="meta">
                    Node defines the type of the hook

                  </div>
                </div>
              </div>
              <div class="ui card">
                <div class="content">
                  <div class="pull-right">
                    <span class="ui label mini red">required</span>

                  </div>
                  <strong>namespace</strong>  <span class="ui blue">string</span>
                </div>
                <div class="content">
                  <div class="meta">
                    Represents the current namespace (format: free)

                  </div>
                </div>
              </div>
              <div class="ui card">
                <div class="content">
                  <div class="pull-right">
                    <span class="ui label mini red">required</span>

                  </div>
                  <strong>operation</strong>  <span class="ui blue">elemental_operation</span>
                </div>
                <div class="content">
                  <div class="meta">
                    Define the operation that is currently handled by the service

                  </div>
                </div>
              </div>
              <div class="ui card">
                <div class="content">
                  <div class="pull-right">
                    <span class="ui label mini grey">read only</span>
<span class="ui label mini pink">autogenerated</span>

                  </div>
                  <strong>outputData</strong>  <span class="ui blue">raw_data</span>
                </div>
                <div class="content">
                  <div class="meta">
                    Returns the OutputData filled with the processor information

                  </div>
                </div>
              </div>
              <div class="ui card">
                <div class="content">
                  <div class="pull-right">
                    <span class="ui label mini red">required</span>

                  </div>
                  <strong>targetIdentity</strong>  <span class="ui blue">string</span>
                </div>
                <div class="content">
                  <div class="meta">
                    Represents the Identity name of the managed object (format: free)

                  </div>
                </div>
              </div>
          </section>

          <section id="relations">
            <h3>Relations</h3>
            <svg preserveAspectRatio="xMidYMid meet"></svg>
          </section>

          <section id="codingexamples">
            <h3>Code example</h3>
              <div>
  <div id="create_remoteprocessor_from_root">
<h4>Create a new RemoteProcessor </h4>

<div class="ui top attached tabular menu">
  <a class="item active" data-tab="apoctl">apoctl</a>
  <a class="item" data-tab="golang">Go</a>
  <a class="item" data-tab="python">Python</a>
  <a class="item" data-tab="rest">REST</a>
</div>

<div class="ui bottom attached tab segment active" data-tab="apoctl">
<pre class="bash">
apoctl api create remoteprocessors -n /namespace \
  -k claims []{"a", "b", "c"} \
  -k inputdata "raw_data" \
  -k mode "Post" \
  -k namespace "namespace" \
  -k operation "elemental_operation" \
  -k targetidentity "targetidentity"</pre>
</div>
<div class="ui bottom attached tab segment" data-tab="golang">
  <pre class="go">
package main

import (
    "github.com/aporeto-inc/manipulate/manipwebsocket"

    rufusmodels "github.com/aporeto-inc/gaia/rufusmodels/current/golang"
)

func main () {

    m, disconnect, err := manipwebsocket.NewWebSocketManipulator("username", "token", "url", "namespace")

    if err != nil {
        panic(err)
    }

    obj := rufusmodels.NewRemoteProcessor()
    obj.Claims = []{"a", "b", "c"}
    obj.InputData = "raw_data"
    obj.Mode = "Post"
    obj.Namespace = "namespace"
    obj.Operation = "elemental_operation"
    obj.TargetIdentity = "targetidentity"

    if err = m.Create(nil, obj); err != nil {
        panic(err)
    }

    disconnect()
}
  </pre>
</div>
<div class="ui bottom attached tab segment" data-tab="python">
  <pre class="python">
import os

from rufusmodels import RemoteProcessor
from pymanipulate.maniphttp import HTTPManipulator, PyManipulateError


def main():
    """
    """
    certificate = ("cert.pem", "key.pem")
    manipulator = HTTPManipulator("url", "/namespace", "username", "password", None, certificate)

    obj = RemoteProcessor()
    obj.claims = []{"a", "b", "c"}
    obj.inputData = "raw_data"
    obj.mode = "Post"
    obj.namespace = "namespace"
    obj.operation = "elemental_operation"
    obj.targetIdentity = "targetidentity"

    try:
        manipulator.create(None, obj)
    except PyManipulateError as e:
        print "Err: %s" % e.errors[0]
        os._exit(1)

    print obj.to_dict()

    exit(0)


if __name__ == "__main__":
    main()
  </pre>
</div>
<div class="ui bottom attached tab segment" data-tab="rest">
  <pre class="bash">
curl -X POST \
  -H "X-Namespace: namespace" \
  -H "Authorization: token" \
  -d claims=[]{"a", "b", "c"} \
  -d inputdata="raw_data" \
  -d mode="Post" \
  -d namespace="namespace" \
  -d operation="elemental_operation" \
  -d targetidentity="targetidentity" \
  http://&lt;host&gt;:&lt;port&gt;/remoteprocessors
  </pre>
</div>
</div>
<script>$('#create_remoteprocessor_from_root .menu .item').tab({context: "parent"});</script>

</div>

  <div>
</div>


          </section>
        </div>

      </div>
    </div>
  </div>

  <script>
      $(document).ready(function()
      {
        prepareComponents();

        // Write relations graph
        var data = [
{"restName": "remoteprocessor", "instanceName": "RemoteProcessor", "resourceName": "remoteprocessors", "type": "self", "exposed": true, "actions": ['POST']}, 
]
        drawRelations(data, 1, 0);

      });
  </script>
</body>
</html>